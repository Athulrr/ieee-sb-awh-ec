<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IEEE SB AWH Engineering College</title>
    <link rel="icon" type="image/x-icon" href="content/SBLOGO.png">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <header>
        <nav>
            <div class="logo">
                <img src="content/logo.png" alt="sblogo">
            </div>
            <div class="hamburger" id="hamburger">
                â˜°
            </div>
            <ul class="nav-links" id="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="chapter.html">Chapter</a></li>
                <li><a href="execom.html">Execom</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="https://www.ieee.org/" class="join" target="_blank" rel="noopener noreferrer">Join IEEE</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <br><br>
        <div class="gallery-grid"></div> <!-- Gallery media will be loaded here -->
    </main>

    <script>
        const folderId = "1SqCJdIGAe7YMAelWFnG4QkMeSF6xYbSm";  // Replace with your Google Drive Folder ID
        const apiKey = "AIzaSyAAVJKe0kn_mjVXZkdT9kG8CRm1tR6YAUQ";  // Replace with your Google API Key
        const galleryDiv = document.querySelector(".gallery-grid");

        async function fetchDriveMedia() {
            try {
                const response = await fetch(
                    `https://www.googleapis.com/drive/v3/files?q='${folderId}'+in+parents AND (mimeType='image/jpeg' OR mimeType='image/png' OR mimeType='video/mp4' OR mimeType='video/webm')&key=${apiKey}&fields=files(id,name,mimeType)`
                );
                const data = await response.json();

                if (!data.files || data.files.length === 0) {
                    galleryDiv.innerHTML = "<p>No media found in the folder.</p>";
                    return;
                }

                data.files.forEach((file) => {
                    let element;

                    if (file.mimeType.startsWith("image/")) {
                        element = document.createElement("img");
                        element.src = `https://lh3.googleusercontent.com/d/${file.id}=s800`;
                        element.alt = file.name;
                        element.loading = "lazy";
                        element.style.maxWidth = "100%";
                        element.style.borderRadius = "10px";
                        element.style.margin = "10px";
                    } else if (file.mimeType.startsWith("video/")) {
                        element = document.createElement("iframe");
element.src = `https://drive.google.com/file/d/${file.id}/preview`;
element.width = "100%";
element.height = "250";
element.allowFullscreen = true;
element.style.borderRadius = "10px";
element.style.marginBottom = "15px";

                        element.width = 400;
                        element.style.borderRadius = "10px";
                        element.style.margin = "10px";
                    }

                    galleryDiv.appendChild(element);
                });
            } catch (error) {
                console.error("Error fetching media:", error);
                galleryDiv.innerHTML = "<p>Failed to load media. Please try again.</p>";
            }
        }

        document.addEventListener("DOMContentLoaded", fetchDriveMedia);

        window.addEventListener("scroll", function () {
            let navbar = document.querySelector("nav");
            if (window.scrollY > 50) {
                navbar.classList.add("scrolled");
            } else {
                navbar.classList.remove("scrolled");
            }
        });

        document.getElementById("hamburger").addEventListener("click", function () {
            document.getElementById("nav-links").classList.toggle("active");
        });
    </script>

</body>
</html>
